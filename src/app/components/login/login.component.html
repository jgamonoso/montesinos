<h4>Inicio de sesión</h4>
<div class="row">
  <div class="col-md-6 mx-auto">
    <div class="card">
      <div class="card-body">
       
        <form [formGroup]="forma" (ngSubmit)="validarLogin()">
          
          <div class="form-group row">
            <label class="col-md-3 col-form-label">Login:</label>
            <div class="col-md-6">

              <input  class="form-control"
                      [ngClass]="{'is-invalid': forma.get('username').invalid && forma.get('username').dirty }"
                      type="text" 
                      placeholder="Usuario" 
                      formControlName="username"
              >
              <div class="invalid-feedback">
                <div class="form-control-feedback text-danger" *ngIf="forma.get('username').errors?.required">
                  Este campo es obligatorio
                </div>
                <div class="form-control-feedback text-danger" *ngIf="forma.get('username').errors?.maxlength">
                  Este campo debe tener como maximo {{ forma.get('username').errors.maxlength.requiredLength }} caracteres
                </div>
              </div>
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label">Password:</label>
            <div class="col-md-6">
          
              <input  class="form-control"
                      [ngClass]="{'is-invalid': !forma.get('password').valid && forma.get('password').dirty }"
                      type="password" 
                      placeholder="Contraseña" 
                      formControlName="password"
              >
              <div class="invalid-feedback">
                <div class="form-control-feedback text-danger" *ngIf="forma.get('password').errors?.required">
                  Este campo es obligatorio
                </div>              
              </div>
          
            </div>
          </div>

          <div class="form-group row">
            <label class="col-md-3 col-form-label">Liga:</label>
            <div class="col-md-6">

              <select class="form-control"
                      formControlName="liga">
                <option *ngFor="let liga of ligas" [value]="liga.pkliga"> {{ liga.nombre }} </option>
              </select>

            </div>
          </div>

          <br>
          
          <button type="submit" 
                  class="btn btn-outline btn-block" 
                  [disabled]="forma.invalid" 
                  [ngClass]="{'btn-danger': ( !forma.valid && forma.dirty ) || forma.pristine, 
                              'btn-success':  forma.valid && forma.dirty && !forma.pristine }">
            Acceder a la web
          </button>
        

          <br> Valid: {{ forma.valid }}
          <br> Status: {{ forma.status }}
          <br> Dirty: {{ forma.dirty }}
          <br> Pristine: {{ forma.pristine }}
          <br>
          <br> username required:  {{forma.get('username').errors?.required}}
          <br> username maxLength: {{forma.get('username').errors?.maxlength}}
          <br> password required: {{forma.get('password').errors?.required}}

        </form>
        
      </div>
    </div>
  </div>
</div>